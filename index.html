<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Hidden Tax: How Inflation Impacts Global Poverty</title>

    <!-- Google Fonts: 'Inter' is a clean, modern sans-serif font similar to Spotify's choice -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- Chart.js Library for creating interactive graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="styles.css">
    <script defer src="animations.js"></script>
</head>
<body>
    <button id="darkModeToggle" class="glow-bounce-btn" aria-label="Toggle dark mode">ðŸŒ™</button>

    <div class="container">
        <header class="reveal">
            <h1>The Hidden Tax</h1>
            <p class="subtitle">A Data Scientist's Look at How Inflation Impacts Global Poverty. An analysis by Peter Macharia.</p>
        </header>

        <main class="fade-in">
            <article class="flash-article">
                <section class="reveal">
                    <h2>The "Why": Beyond the Headlines</h2>
                    <p>We all feel it at the grocery store and the gas pump. Inflation has become a global headline, eroding our savings and shrinking our budgets. But while for some it means cutting back on luxuries, for the world's most vulnerable, it can mean something far more dire.</p>
                    <p>This raises a crucial question: <strong>Does rising inflation actually lead to higher rates of extreme poverty?</strong> This project moves past anecdotes to build a quantitative model that measures the relationship between these powerful economic forces.</p>
                    <div class="card" style="margin-top:2rem;">
                        <h3>Key Insight</h3>
                        <p>Inflation acts as a hidden tax, especially for the poor. Understanding its impact is crucial for effective policy.</p>
                    </div>
                </section>

                <section class="reveal">
                    <h2>The "What": Sourcing the Truth</h2>
                    <p>The foundation of this project required merging two distinct pictures of the world: one of human well-being and one of economic health.</p>
                    <h3>Key Metrics</h3>
                    <p>I defined poverty as the percentage of a country's population living on less than <strong>$2.15 a day</strong>, using World Bank data. This was analyzed against key economic indicators like the annual <strong>inflation rate</strong>, <strong>economic growth</strong>, and the <strong>unemployment rate</strong> for 19 countries from 2010 onwards.</p>
                     <blockquote>After careful cleaning and merging, the final dataset contained 167 observations, each a snapshot of a country's economic health and poverty level in a given year.</blockquote>
                </section>
                
                <section class="reveal">
                    <h2>The "How": Finding the Patterns</h2>
                    <p>With clean data, the search for relationships began. I moved from simple correlation to a more sophisticated machine learning approach, training three different models (Linear Regression, Decision Tree, and Random Forest) to predict the poverty rate based on the economic indicators.</p>
                    <p>The models were trained on 80% of the data and then validated on the remaining 20% to test their real-world predictive power.</p>
                </section>

                <section class="reveal">
                    <h2>The "So What?": A Clear Verdict</h2>
                    <p>The results were fascinating. The simple Linear Regression model completely failed (RÂ² of 0.00), proving this relationship is not a straight line. The Random Forest model, however, performed best, explaining a significant portion of the changes in poverty.</p>
                    <h3>Model Performance</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Model</th>
                                <th>R-squared (RÂ²)</th>
                                <th>Interpretation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Linear Regression</td>
                                <td>0.00</td>
                                <td>No predictive power</td>
                            </tr>
                            <tr>
                                <td>Decision Tree</td>
                                <td>0.25</td>
                                <td>Modest predictive power</td>
                            </tr>
                            <tr>
                                <td><strong>Random Forest</strong></td>
                                <td><strong>0.40</strong></td>
                                <td><strong>Winner: Good predictive power</strong></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="card-grid" style="margin-top:2rem;">
                        <div class="card">
                            <h3>Insight 1</h3>
                            <p>Random Forest models can capture complex, non-linear relationships in economic data.</p>
                        </div>
                        <div class="card">
                            <h3>Insight 2</h3>
                            <p>Stable monetary policy is a key pillar for reducing poverty and improving social welfare.</p>
                        </div>
                    </div>

                    <h3>The Most Important Factor</h3>
                    <p>The true power of the Random Forest model is its ability to rank which factors were most important for its predictions. The result was unambiguous.</p>
                    
                    <!-- This is the container for our interactive chart -->
                    <div class="chart-container">
                        <canvas id="featureImportanceChart"></canvas>
                    </div>
                </section>

                <section class="reveal">
                    <h2>The "What's Next?": The Bigger Picture</h2>
                    <p>This analysis reinforces that stable monetary policy is not just an abstract economic goal; it is a fundamental pillar of social welfare. For the millions living on the edge, inflation acts as a regressive, hidden tax that invisibly steals what little they have.</p>
                    <p>While this model shows a strong predictive link, future work could incorporate factors like government social policies or education levels to build an even more complete picture.</p>
                </section>
            </article>
        </main>
        
        <footer>
            <p>&copy; 2025 Peter Macharia. This analysis was conducted as a personal project. All data sourced from public datasets.</p>
        </footer>
    </div>

    <script>
    /* --- JAVASCRIPT LOGIC --- */

    // 1. On-Scroll Reveal Animation
    document.addEventListener('DOMContentLoaded', function() {
        const revealElements = document.querySelectorAll('.reveal');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    // Optional: stop observing once it's visible to save resources
                    // observer.unobserve(entry.target); 
                }
            });
        }, {
            threshold: 0.1 // Trigger when 10% of the element is visible
        });

        revealElements.forEach(el => {
            observer.observe(el);
        });
    });

    // 2. Chart.js Interactive Visualization
    document.addEventListener('DOMContentLoaded', function() {
        const ctx = document.getElementById('featureImportanceChart').getContext('2d');

        // Gradient for the chart bars
        const gradient = ctx.createLinearGradient(0, 0, 0, 400);
        gradient.addColorStop(0, 'rgba(155, 89, 182, 0.8)');   // --primary-accent
        gradient.addColorStop(1, 'rgba(142, 68, 173, 0.5)'); // --primary-accent-darker

        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Inflation Rate', 'Economic Growth', 'Unemployment Rate', 'GDP (Billion USD)'],
                datasets: [{
                    label: 'Feature Importance',
                    data: [0.47, 0.35, 0.09, 0.09], // Your data from the analysis
                    backgroundColor: gradient,
                    borderColor: 'rgba(155, 89, 182, 1)',
                    borderWidth: 2,
                    borderRadius: 5,
                    hoverBackgroundColor: 'rgba(142, 68, 173, 1)'
                }]
            },
            options: {
                indexAxis: 'y', // Makes the bar chart horizontal
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false // We don't need a legend for a single dataset
                    },
                    title: {
                        display: true,
                        text: 'Which Factors Best Predict Poverty?',
                        font: {
                            size: 18,
                            weight: 'bold'
                        },
                        color: '#ffffff',
                        padding: {
                            bottom: 20
                        }
                    },
                    tooltip: {
                        backgroundColor: '#000000',
                        titleFont: {
                            size: 14
                        },
                        bodyFont: {
                            size: 12
                        },
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.x !== null) {
                                    label += (context.parsed.x * 100).toFixed(0) + '%';
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)',
                            borderColor: 'rgba(255, 255, 255, 0.1)'
                        },
                        ticks: {
                            color: '#a0a0a0',
                            callback: function(value) {
                                return (value * 100) + '%'; // Format as percentage
                            }
                        }
                    },
                    y: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            color: '#e0e0e0',
                            font: {
                                size: 14
                            }
                        }
                    }
                }
            }
        });
    });

    </script>
</body>
</html>